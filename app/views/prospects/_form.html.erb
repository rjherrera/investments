<%= form_with(model: prospect, local: true, :html => {:class => "ui form"}) do |form| %>
  <% if prospect.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(prospect.errors.count, "error") %> prohibited this prospect from being saved:</h2>
      <ul>
      <% prospect.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <label>Nombres</label>
    <%= form.text_field :name, id: :prospect_name, :required => true, :placeholder => 'Juan José' %>
  </div>

  <div class="field">
    <label>Apellidos</label>
    <%= form.text_field :last_name, id: :prospect_last_name, :required => true, :placeholder => 'González Martínez' %>
  </div>

  <div class="field">
    <label>RUT</label>
    <%= form.text_field :rut, id: :prospect_rut, :required => true, :placeholder => '15.864.577-7' %>
  </div>

  <div class="field">
    <label>Teléfono</label>
    <%= form.text_field :cellphone, id: :prospect_cellphone, :required => true, :placeholder => '92591287' %>
  </div>

  <div class="field">
    <label>Email</label>
    <%= form.email_field :email, id: :prospect_email, :required => true, :placeholder => 'jjgonzalez@mail.com' %>
  </div>

  <div class="field">
    <label>Rango de renta</label>
    <select class="ui dropdown" name="prospect[salary]" required placeholder="123">
      <option>Rango de renta</option>
      <option value=1>Menos de $1.000.000</option>
      <option value=2>Entre $1.000.000 y $1.500.000</option>
      <option value=3>Entre $1.500.000 y $2.000.000</option>
      <option value=4>Entre $2.000.000 y $2.500.000</option>
      <option value=5>Entre $2.500.000 y $3.000.000</option>
      <option value=6>Entre $3.000.000 y $3.500.000</option>
      <option value=7>Más de $3.500.000</option>
    </select>
  </div>

  <div class="field">
    <label>Pre-aprobación</label>

    <div class="ui checkbox">
      <input type="checkbox" name="prospect[preapproval]">
      <label>Pre-aprobación</label>
    </div>
  </div>

  <button class="ui button" type="submit">Enviar</button>
<% end %>


<script type="text/javascript">
$('.ui.dropdown').dropdown({placeholder:'Your placeholder'});
$('.ui.form').form({
  fields: {
    salary: {
      identifier: 'prospect[salary]',
      rules: [{
        type: 'regExp',
        value: /\d{1,7}/i,
      }]
    }
  }
});
</script>
